!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";function i(t,e){return Object.prototype.toString.call(t).toLowerCase()==="[object "+e.toLowerCase()+"]"}function r(t){return"true"===t.toLowerCase()}e.a=i,e.b=r},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);!function(){var t=document.querySelectorAll(".js-qiita-widget");0!==t.length&&Array.from(t,function(t){Object(i.a)(t)})}()},function(t,e,n){"use strict";function i(t){t.style.display="none";var e=Object(o.a)(t);e.scrolling="auto",e.frameBorder="0",e.marginWidth="0",e.marginHeight="0",e.width="100%",e.classList.add("qiita-widget-iframe"),e.height="auto",Object(r.a)(t.dataset.height,"string")&&(e.height=t.dataset.height),"auto"===e.height&&Object(a.a)(e)}e.a=i;var r=n(0),o=n(4),a=n(10)},function(t,e,n){"use strict";function i(t){var e=document.createElement("iframe");t.parentNode.insertBefore(e,t);var n=e.contentWindow.document,i=Object(r.a)(Object(o.a)(t));return n.open(),n.write(i),n.close(),e}e.a=i;var r=n(5),o=n(9)},function(t,e,n){"use strict";function i(t){return"\n\n<style>"+r+'</style>\n\n<section class="qiita-widget">\n  <header class="qiita-widget__header qiita-user" id="qiita-user"></header>\n  <section class="qiita-widget__articles">\n    <h2 class="qiita-widget__articles-head">人気の投稿</h2>\n    <ul id="qiita-article" class="qiita-article-list"></ul>\n  </section>\n</section>\n\n<template id="qiita-user-tpl">\n  <p class="qiita-user__image"><img class="qiita-user__img js-profile-image-url" src="" alt=""/></p>\n\n  <div class="qiita-user__title">\n    <a class="qiita-user__url js-url" target="_blank"><h1 class="qiita-user__id js-id"></h1></a>\n\n    <p class="qiita-user__items">\n      <span class="qiita-user__items-num js-items-count"></span>\n      <span class="qiita-user__items-unit">Items</span>\n    </p>\n\n    <p class="qiita-user__likes">\n      <span class="qiita-user__likes-num js-likes-count"></span>\n      <span class="qiita-user__likes-unit">Contribution</span>\n    </p>\n\n  </div>\n</template>\n\n<template id="qiita-article-tpl">\n  <li class="qiita-article-list__item">\n    <a class="qiita-article js-url" target="_blank">\n      <h3 class="qiita-article__title js-title"></h3>\n    </a>\n  </li>\n</template>\n\n<script src="https://unpkg.com/axios/dist/axios.min.js"><\/script>\n<script>'+o+"<\/script>\n\n<script>\n  (function() {\n    new QiitaWidget("+JSON.stringify(t)+").init();\n  })();\n<\/script>"}e.a=i;var r=n(6),o=(n.n(r),n(8));n.n(o)},function(t,e,n){e=t.exports=n(7)(!1),e.push([t.i,'/*! sanitize.css | CC0 Public Domain | github.com/jonathantneal/sanitize.css */:root{-ms-overflow-style:-ms-autohiding-scrollbar;overflow-y:scroll;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}audio:not([controls]){display:none}details{display:block}input[type=number]{width:auto}input[type=search]{-webkit-appearance:textfield}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}main,summary{display:block}pre{overflow:auto}progress{display:inline-block}small{font-size:75%}template{display:none}textarea{overflow:auto}[hidden]{display:none}[unselectable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}*,:after,:before{-webkit-box-sizing:inherit;box-sizing:inherit}*{font-size:inherit;line-height:inherit}:after,:before{text-decoration:inherit;vertical-align:inherit}*,:after,:before{border-style:solid;border-width:0}*{margin:0;padding:0}:root{-webkit-box-sizing:border-box;box-sizing:border-box;cursor:default;font:16px/1.5 sans-serif;text-rendering:optimizeLegibility}html{background-color:#fff}a{text-decoration:none}audio,canvas,iframe,img,svg,video{vertical-align:middle}button,input,select,textarea{background-color:transparent;color:inherit;font-family:inherit;font-style:inherit;font-weight:inherit}[type=button],[type=date],[type=datetime-local],[type=datetime],[type=email],[type=month],[type=number],[type=password],[type=reset],[type=search],[type=submit],[type=tel],[type=text],[type=time],[type=url],[type=week],button,select,textarea{min-height:1.5em}code,kbd,pre,samp{font-family:monospace,monospace}nav ol,nav ul{list-style:none}select{-moz-appearance:none;-webkit-appearance:none}select::-ms-expand{display:none}select::-ms-value{color:currentColor}table{border-collapse:collapse;border-spacing:0}textarea{resize:vertical}::-moz-selection{background-color:#b3d4fc;text-shadow:none}::selection{background-color:#b3d4fc;text-shadow:none}@media screen{[hidden~=screen]{display:inherit}[hidden~=screen]:not(:active):not(:focus):not(:target){clip:rect(0 0 0 0)!important;position:absolute!important}}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Hiragino Kaku Gothic ProN,\\\\30E1\\30A4\\30EA\\30AA,meiryo,sans-serif;line-height:1.1}a:link,a:visited{color:#337ab7}a:hover{text-decoration:underline}img{width:100%;height:auto}.qiita-widget__articles-head{font-size:.875rem;font-weight:700;margin-bottom:10px}.qiita-widget__articles{margin-top:15px}.qiita-user{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap}.qiita-user__image{width:60px;height:60px;margin-right:5px}.qiita-user__id{font-size:1rem;margin-bottom:3px}.qiita-user__followers-num,.qiita-user__items-num,.qiita-user__likes-num{font-weight:700;font-size:.875rem}.qiita-user__followers-unit,.qiita-user__items-unit,.qiita-user__likes-unit{font-size:.75rem}.qiita-article-list{padding-left:10px;list-style:none}.qiita-article__title{font-size:.8125rem;line-height:1.42857;margin-bottom:5px;font-weight:400}.qiita-article__title:before{display:inline-block;content:"\\2022";color:#999;margin-left:-10px;margin-right:5px}',""])},function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=i(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e){t.exports='!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("axios")):"function"==typeof define&&define.amd?define("QiitaWidget",["axios"],e):"object"==typeof exports?exports.QiitaWidget=e(require("axios")):t.QiitaWidget=e(t.axios)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";function r(t){return Number.isNaN(t)?null:t+""}function i(t){for(var e=t.concat(),n=e.length;n;){var r=Math.floor(Math.random()*n--),i=e[n];e[n]=e[r],e[r]=i}return e}function a(t,e){return t.sort(function(t,n){if(void 0===t[e])return 0;if(void 0===n[e])return 0;var r=parseInt(t[e],10),i=parseInt(n[e],10);return Number.isNaN(r)||Number.isNaN(i)?0:r<i?1:r>i?-1:0})}function o(t,e){return Object.prototype.toString.call(t).toLowerCase()==="[object "+e.toLowerCase()+"]"}e.b=r,e.c=i,e.d=a,e.a=o},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=n(4),a=n(5),o=n(0),s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}u((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){u.label=n[1];break}if(6===n[0]&&u.label<o[1]){u.label=o[1],o=n;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(n);break}o[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},c=function(){function t(e){this.conf=Object.assign({},t.defaultConf,e),this.conf=t.validateConf(this.conf),this.endpoint="https://qiita.com/api/v2/users/"+this.conf.userId+"/items",this.apiConfCreator=new i.a(this.endpoint,this.conf),this.dataList=[],this.presenter=new r.a(this.conf)}return t.validateConf=function(t){if(!Object(o.a)(t.userId,"string"))throw new TypeError("userId must be a string!");if(!Object(o.a)(t.perPage,"number"))throw new TypeError("perPage must be a number!");if(!Object(o.a)(t.expirationDay,"number"))throw new TypeError("expirationDay must be a number!");if(!Object(o.a)(t.maxRequest,"number"))throw new TypeError("maxRequest must be a number!");return t.perPage<=0&&(t.perPage=1),t.perPage>100&&(t.perPage=100),t.expirationDay<=0&&(t.expirationDay=0),t.maxRequest<0&&(t.maxRequest=0),t},t.prototype.init=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,this.fetchList()];case 1:return t.sent(),this.parseDataList(),this.render(),[2]}})})},t.prototype.render=function(){this.presenter.renderUser(),this.presenter.renderArticles()},t.prototype.fetchList=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<this.conf.maxRequest?[4,this.fetchOnce()]:[3,3];case 2:return e.sent()?(t++,[3,1]):[3,3];case 3:return[2]}})})},t.prototype.fetchOnce=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return[4,a.a.get(this.apiConfCreator.getNextConf())];case 1:return t=e.sent(),0===t.data.length?[2,!1]:t.data.length<this.conf.perPage?(this.dataList=this.dataList.concat(t),[2,!1]):(this.dataList=this.dataList.concat(t),[2,!0])}})})},t.prototype.parseDataList=function(){this.presenter.articles=this.dataList.reduce(function(t,e){return t.concat(e.data)},[]),this.presenter.user=Object.assign({},this.dataList[0].data[0].user),this.presenter.user.likes_count=this.presenter.countAllLikes(),this.presenter.user.url="https://qiita.com/"+this.presenter.user.id},t.defaultConf={userId:"qiita",perPage:20,expirationDay:1,maxRequest:10},t}();e.default=c},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),i=function(){function t(e){this.articles=[],this.user=null,this.conf=Object.assign({},t.defaultConf,e),this.userTemplate=document.querySelector(this.conf.userTemplate),this.userDest=document.querySelector(this.conf.userDest),this.articleTemplate=document.querySelector(this.conf.articleTemplate),this.articleDest=document.querySelector(this.conf.articleDest)}return t.prototype.countAllLikes=function(){return this.articles.reduce(function(t,e){return t+e.likes_count},0)},t.prototype.renderUser=function(){var t=this,e=function(e){var n=document.importNode(e.content,!0);return Object.entries(t.user).forEach(function(e){t.fillTemplate(n,e)}),n};this.renderView(this.userTemplate,this.userDest,e)},t.prototype.renderArticles=function(){var t=this,e=function(e){var n=t.createArticleOrderList(t.articles),r=t.createTargetArticleList(t.articles,n);return t.genArticleFragment(e,r)};this.renderView(this.articleTemplate,this.articleDest,e)},t.prototype.genArticleFragment=function(t,e){var n=this,r=document.createDocumentFragment();return e.forEach(function(e){e.private||r.appendChild(n.createArticleFragment(t,e))}),r},t.prototype.createTargetArticleList=function(t,e){var n=this.conf.sortByLike&&!this.conf.useShuffle?r.d(t,"likes_count"):t;return n=e.map(function(e){return t[e]}),this.conf.sortByLike&&this.conf.useShuffle?r.d(n,"likes_count"):n},t.prototype.createArticleOrderList=function(t){var e=function(){return Array(t.length).fill(0).map(function(t,e){return e})};return(this.conf.useShuffle?r.c(e()):e()).slice(0,this.conf.max)},t.prototype.renderView=function(t,e,n){if(null===t)throw new Error("Could not find template! conf "+JSON.stringify(this.conf));if(null===e)throw new Error("Could not find dest! conf "+JSON.stringify(this.conf));var r=n(t);e.appendChild(r)},t.prototype.createArticleFragment=function(t,e){var n=this,r=document.importNode(t.content,!0);return Object.entries(e).forEach(function(t){return n.fillTemplate(r,t)}),r},t.prototype.fillTemplate=function(t,e){var n=e[0],r=e[1],i=".js-"+n.replace(/_/g,"-"),a=t.querySelector(i);null!==a&&null!==r&&this.fillContent(n,r,a)},t.prototype.fillContent=function(t,e,n){if(void 0!==e){var i="number"==typeof e?r.b(e):e;if(null!==e)switch(t){case"url":case"website_url":n.setAttribute("href",i);break;case"profile_image_url":n.setAttribute("src",i);break;case"tags":i.forEach(function(t){var e=document.createElement("li");e.innerText=t.name,n.appendChild(e)});break;default:n.textContent=i}}},t.defaultConf={useShuffle:!1,sortByLike:!0,userDest:"#qiita-user",userTemplate:"#qiita-user-tpl",articleDest:"#qiita-article",articleTemplate:"#qiita-article-tpl",max:10},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),i=function(){function t(t,e){this.conf={id:t+"?page=0",endpoint:t,expirationDay:e.expirationDay,axiosRequestConfig:{params:{page:0,per_page:e.perPage}}}}return t.validateConf=function(t){if(!Object(r.a)(t.id,"string"))throw new TypeError("id must be a string!");if(!Object(r.a)(t.endpoint,"string"))throw new TypeError("endpoint must be a string!");if(!Object(r.a)(t.axiosRequestConfig.params.page,"number"))throw new TypeError("page param is not available!");if(!Object(r.a)(t.axiosRequestConfig.params.per_page,"number"))throw new TypeError("per_page param is not available!")},t.prototype.getNextConf=function(){return this.conf=this.countUp(this.conf),t.validateConf(this.conf),this.conf},t.prototype.countUp=function(t){var e=t.axiosRequestConfig.params.page,n=e+1;return Object.assign({},t,{id:t.endpoint+"?page="+n,axiosRequestConfig:{params:{page:n,per_page:this.conf.axiosRequestConfig.params.per_page}}})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(6),i=n.n(r),a=n(7),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}u((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){u.label=n[1];break}if(6===n[0]&&u.label<o[1]){u.label=o[1],o=n;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(n);break}o[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},u=function(){function t(){}return t.get=function(e,n){return void 0===n&&(n=new a.a(e.id)),o(this,void 0,void 0,function(){var r,i;return s(this,function(a){return 0===e.expirationDay?[2,t.fetch(e,n)]:(r=n.getCache())?(i=n.validateDate(e.expirationDay),i?[2,n]:[2,t.fetch(e,n)]):[2,t.fetch(e,n)]})})},t.fetch=function(t,e){return void 0===e&&(e=new a.a(t.id)),o(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:return[4,i.a.get(t.endpoint,t.axiosRequestConfig)];case 1:return n=r.sent(),e.data=n.data,e.setTimestamp(new Date),t.expirationDay>0&&e.saveCache(),[2,e]}})})},t}()},function(e,n){e.exports=t},function(t,e,n){"use strict";var r=function(){function t(t){this.id=t,this.data=null,this.timestamp=null}return t.prototype.validateDate=function(t){if(null===this.timestamp||0===t)return!1;if(null===this.data)return!1;var e=+this.timestamp-+new Date;if(Number.isNaN(e))throw new Error("unexpected NaN value!");return e/864e5<=t},t.prototype.getCache=function(){var t=localStorage.getItem(this.id);if(null===t)return!1;var e=JSON.parse(t);return this.data=e.data,this.timestamp=new Date(e.timestamp),!0},t.prototype.saveCache=function(){return null!==this.data&&(localStorage.setItem(this.id,JSON.stringify({data:this.data,timestamp:this.timestamp})),!0)},t.prototype.setTimestamp=function(t){this.timestamp=t},t}();e.a=r}]).default});\n//# sourceMappingURL=lib.js.map'},function(t,e,n){"use strict";function i(t){var e={};return Object(r.a)(t.dataset.userId,"string")&&(e.userId=t.dataset.userId),["sortByLike","useShuffle"].forEach(function(n){Object(r.a)(t.dataset[n],"string")&&(e[n]=Object(r.b)(t.dataset[n]))}),["perPage","max","maxRequest","expirationDay"].forEach(function(n){Object(r.a)(t.dataset[n],"string")&&(e[n]=parseInt(t.dataset[n],10))}),e}e.a=i;var r=n(0)},function(t,e,n){"use strict";function i(t){var e=function(){t.height=t.contentWindow.document.documentElement.scrollHeight.toString()},n=function(){e(),t.removeEventListener("load",n)};e(),t.addEventListener("load",n)}e.a=i}]);